# Vercel Deployment Guide for Grader Builder Frontend

## ğŸ“‹ Prerequisites

- GitHub account
- Vercel account (free tier works fine)
- Your project pushed to a GitHub repository

## ğŸš€ Deployment Methods

### Method 1: Deploy via Vercel Dashboard (Recommended)

#### Step 1: Push Your Code to GitHub

```bash
cd /home/raspiestchip/Desktop/AUTOGRADER/grader-builder/app-grader-builder

# Initialize git if not already done
git init
git add .
git commit -m "Initial commit - Grader Builder Frontend"

# Add your GitHub remote
git remote add origin https://github.com/YOUR_USERNAME/grader-builder-frontend.git
git push -u origin main
```

#### Step 2: Deploy on Vercel

1. Go to [https://vercel.com](https://vercel.com)
2. Click **"Add New"** â†’ **"Project"**
3. Import your GitHub repository
4. Configure the project:

   **Framework Preset:** Create React App
   
   **Root Directory:** `app-grader-builder` (if deploying from monorepo)
   OR leave as `./` if repo contains only the app-grader-builder
   
   **Build Command:**
   ```bash
   npm run build
   ```
   
   **Output Directory:**
   ```bash
   build
   ```
   
   **Install Command:**
   ```bash
   npm install
   ```

5. **Environment Variables** (Optional - if you need API URLs later):
   - Click "Environment Variables"
   - Add any needed variables:
     ```
     REACT_APP_API_URL=https://your-api-url.com
     ```

6. Click **"Deploy"**

7. Wait for deployment (usually takes 2-3 minutes)

8. Your app will be live at: `https://your-project-name.vercel.app`

### Method 2: Deploy via Vercel CLI

#### Step 1: Install Vercel CLI

```bash
npm install -g vercel
```

#### Step 2: Login to Vercel

```bash
vercel login
```

#### Step 3: Deploy

```bash
cd /home/raspiestchip/Desktop/AUTOGRADER/grader-builder/app-grader-builder

# First deployment (interactive)
vercel

# Follow the prompts:
# - Set up and deploy: Yes
# - Which scope: Your account
# - Link to existing project: No
# - Project name: grader-builder (or your choice)
# - Directory: ./ (current directory)
# - Override settings: No

# For production deployment
vercel --prod
```

## ğŸ“ Project Structure

Your `app-grader-builder` directory should have:

```
app-grader-builder/
â”œâ”€â”€ build/               # Built files (generated by npm run build)
â”œâ”€â”€ public/              # Public assets
â”œâ”€â”€ src/                 # Source code
â”œâ”€â”€ package.json         # Dependencies
â”œâ”€â”€ vercel.json         # Vercel configuration âœ… (already created)
â””â”€â”€ .gitignore          # Git ignore file
```

## âš™ï¸ Vercel Configuration

The `vercel.json` file has been created with the following configuration:

```json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "build"
      }
    }
  ],
  "routes": [
    {
      "src": "/static/(.*)",
      "headers": {
        "cache-control": "s-maxage=31536000, immutable"
      },
      "dest": "/static/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/index.html"
    }
  ]
}
```

This configuration:
- âœ… Uses Create React App build output
- âœ… Sets up proper routing for single-page app
- âœ… Configures caching for static assets
- âœ… Redirects all routes to index.html (for React Router)

## ğŸ”§ Build Settings in Vercel Dashboard

If you need to configure manually:

**Build & Development Settings:**
- Framework Preset: `Create React App`
- Build Command: `npm run build`
- Output Directory: `build`
- Install Command: `npm install`
- Development Command: `npm start`

**Node.js Version:**
- 18.x (default, recommended)

## ğŸŒ Environment Variables

If you need to configure API URLs later:

1. Go to your project in Vercel Dashboard
2. Click **"Settings"** â†’ **"Environment Variables"**
3. Add variables:
   ```
   Name: REACT_APP_API_URL
   Value: https://autograder.pythonanywhere.com
   ```
4. Redeploy for changes to take effect

## ğŸ“ Custom Domain (Optional)

### Add a Custom Domain

1. Go to your project in Vercel
2. Click **"Settings"** â†’ **"Domains"**
3. Click **"Add"**
4. Enter your domain (e.g., `grader.yourdomain.com`)
5. Follow DNS configuration instructions
6. Wait for DNS propagation (can take up to 48 hours)

### DNS Records to Add

For domain: `grader.yourdomain.com`

**CNAME Record:**
```
Type: CNAME
Name: grader
Value: cname.vercel-dns.com
```

## ğŸ”„ Automatic Deployments

Vercel automatically deploys:
- **Production:** When you push to `main` or `master` branch
- **Preview:** When you push to any other branch or create a PR

To disable auto-deployment:
1. Go to **Settings** â†’ **Git**
2. Configure deployment settings

## ğŸ§ª Testing Your Deployment

After deployment, test:

1. **Homepage:** `https://your-project.vercel.app`
2. **Health Check:** Make sure the page loads
3. **Navigation:** Test all routes (templates, configuration, etc.)
4. **Cached Templates:** Verify templates load from cache
5. **Mobile Responsiveness:** Check on mobile devices

## ğŸ› ï¸ Troubleshooting

### Issue 1: "Page Not Found" on Refresh

**Solution:** Make sure `vercel.json` has the catch-all route:
```json
{
  "src": "/(.*)",
  "dest": "/index.html"
}
```

### Issue 2: Build Fails

**Check:**
- Run `npm run build` locally to test
- Check build logs in Vercel dashboard
- Verify all dependencies in `package.json`

**Common fixes:**
```bash
# Clear node modules and reinstall
rm -rf node_modules package-lock.json
npm install
npm run build
```

### Issue 3: Environment Variables Not Working

**Solution:**
- Environment variables must start with `REACT_APP_`
- Redeploy after adding variables
- Check they're set in the correct environment (Production/Preview)

### Issue 4: Static Assets Not Loading

**Solution:**
- Check file paths in your code (should be relative)
- Verify assets are in the `public` folder
- Check `vercel.json` routes configuration

## ğŸ“Š Monitoring

Monitor your deployment:

1. **Analytics:** Vercel â†’ Your Project â†’ Analytics
2. **Logs:** Vercel â†’ Your Project â†’ Deployments â†’ View Logs
3. **Performance:** Check Web Vitals in Analytics

## ğŸ” Security Headers (Optional)

Add security headers to `vercel.json`:

```json
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        }
      ]
    }
  ]
}
```

## ğŸš€ Quick Deploy Checklist

- [ ] Code pushed to GitHub
- [ ] `vercel.json` file exists
- [ ] Project builds successfully locally (`npm run build`)
- [ ] Connected repository to Vercel
- [ ] Configured build settings
- [ ] Added environment variables (if needed)
- [ ] Deployment successful
- [ ] Tested all routes
- [ ] Configured custom domain (optional)

## ğŸ“± Vercel Mobile App

Download the Vercel mobile app to:
- Monitor deployments
- View analytics
- Manage projects
- Get notifications

## ğŸ”— Useful Links

- **Vercel Dashboard:** https://vercel.com/dashboard
- **Vercel Docs:** https://vercel.com/docs
- **Create React App Deployment:** https://create-react-app.dev/docs/deployment/

## ğŸ’¡ Pro Tips

1. **Preview Deployments:** Every push to a branch creates a preview URL
2. **Rollbacks:** You can rollback to any previous deployment in seconds
3. **Edge Network:** Your app is automatically served from Vercel's global CDN
4. **Analytics:** Free web vitals and analytics included
5. **Collaboration:** Invite team members to your project

## ğŸ¯ Next Steps After Deployment

1. Share your deployment URL
2. Set up custom domain (optional)
3. Monitor analytics
4. Configure CI/CD workflows
5. Set up error tracking (Sentry, etc.)

Your Grader Builder frontend is now ready to deploy on Vercel! ğŸ‰

For questions or issues, check:
- Vercel Community: https://github.com/vercel/vercel/discussions
- Vercel Support: https://vercel.com/support
